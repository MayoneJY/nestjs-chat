# ✨ WebSocket & Chat System

Nest.js를 이해하기 위해 개발하는 프로젝트

---

## ⏱ 현재 진행 사항

1. **실시간 웹 소켓(Room) 생성 & 제거 모니터링**
    - 웹 소켓을 통해 방이 생성되고 제거되는 모습을 실시간으로 확인할 수 있습니다.
2. **웹 소켓 채팅 기능**
    - 채팅 메시지를 실시간으로 주고받을 수 있습니다.
3. **DB를 통한 채팅내역 저장 기능**
    - 데이터베이스를 활용해 채팅내역을 저장하고있습니다.
4. **채팅 기록 저장 & 불러오기 기능**
    - 메시지마다 DB와 통신하면 리소스가 많이 소모될 것으로 예상되어, 큐(Queue)에 임시 저장 후 일정 시간마다 일괄적으로 DB에 반영하고 있습니다.
        - ~~문제점: 일정 시간마다 통신하기 때문에 그 사이에 메시지를 불러오면 일부 데이터를 불러오지 못함.~~
        - **해결**: 메시지를 불러올 때 큐에 저장된 데이터도 함께 조회하도록 개선했습니다.

---

## ⚙️ 개선사항

1. **WebRTC를 통한 P2P 통신**
    - 서버와 소켓으로만 통신하지 않고, 클라이언트 간(P2P) 직접 통신을 시도해 서버 비용을 줄입니다.
    - 다만, P2P 방식을 적용하면 클라이언트가 서버와 직접 연결되지 않으므로, 서버에서의 제어나 모니터링이 어려워지는 문제가 있습니다.
2. **TURN 서버 구축**
    - P2P 통신에서 NAT 방화벽을 우회하기 위해 필수적인 **TURN 서버** 설정을 고려하고 있습니다.
3. **마이크 & 캠 기능 추가**
    - 오디오 및 영상 채팅도 구현할 수 있도록 마이크와 캠 접근 권한을 부여하고, 이를 통해 실시간 미디어 전송을 지원합니다.
